<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    
    <title>Victor Briganti</title>
    <description>A blog for building knowledge</description>
    <link>https://maverick.canhtran.me</link>
    
    <language>en</language>
    <copyright>Copyright 2024, Calvin Tran</copyright>
    <lastBuildDate>Sun, 01 Oct 2023 00:00:00 +0000</lastBuildDate>
    <generator>Hugo - gohugo.io</generator>
    <docs>http://cyber.harvard.edu/rss/rss.html</docs>
    <atom:link href="https://maverick.canhtran.me/atom.xml" rel="self" type="application/atom+xml"/>
    
    
    <item>
      <title>Compiling the Linux Kernel</title>
      <link>https://maverick.canhtran.me/posts/debian-kernel/</link>
      <description>&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#1-introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-preparing-the-environment&#34;&gt;Preparing the environment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-compiling&#34;&gt;Compiling&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;1-introduction&#34;&gt;1. Introduction&lt;/h1&gt;
&lt;p&gt;In the last few months, programming aimed at more obscure areas of computers has piqued my interest.And it was through these studies that I discovered the field of kernel development, and there is no better place to study kernel than the Linux kernel itself.&lt;/p&gt;
&lt;p&gt;But first and foremost, in order to learn kernel magic, we must first be able to compile one, and this guide will show you how to do so in a Debian system.So lets start.&lt;/p&gt;
&lt;h1 id=&#34;2-preparing-the-environment&#34;&gt;2. Preparing the Environment&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;I DO NOT RECOMMEND&lt;/strong&gt; compiling and installing the kernel on your base system unless you know exactly what you&amp;rsquo;re doing (which you don&amp;rsquo;t if you&amp;rsquo;re reading this).The compilation and installation of a kernel is prone to a lot of errors, and because of that, I do recommend the use of some kind of virtualization, in my project, I used QEMU and KVM, but you can use others.&lt;/p&gt;
&lt;p&gt;Here are some virtualization programs to install your virtual machine:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.virtualbox.org/&#34;&gt;VirtualBox&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://help.gnome.org/users/gnome-boxes/stable/index.html.en#start&#34;&gt;GNOME Boxes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://virt-manager.org/&#34;&gt;Virt-Manager&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After the installation of these programs, you will need to get an ISO so you can install Debian (here I&amp;rsquo;m going to use Debian 11). The link for the ISO is here: &lt;a href=&#34;https://www.debian.org/distrib/%3E&#34;&gt;https://www.debian.org/distrib/&amp;gt;&lt;/a&gt;. After you get the ISO and install it on the virtual machine, you are going to get a base Debian install.&lt;/p&gt;
&lt;p&gt;Now the next step is to install the necessary packages so we can compile the kernel.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# To install it, you must be root (or use sudo).   
apt update &amp;amp;&amp;amp; apt install xz-utils wget libncurses-dev gawk flex bison openssl libssl-dev dkms libelf-dev libudev-dev libpci-dev git bc build-essentials
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Let&amp;rsquo;s take a closer look at each of these packages so you know what you&amp;rsquo;re installing on your system.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;build-essentials; This package contains a list of packages. in this package, you will install the compilers for C (gcc) and C++ (g++), as well as the standard library for C in the developer version, make, and the libraries required to create a Debian package.&lt;/li&gt;
&lt;li&gt;flex; This is a lexical analyzer. It is used to search for patterns in a file.&lt;/li&gt;
&lt;li&gt;bison; It&amp;rsquo;s generally used with flex, catches the tokens generated by flex, and then executes some kind of action.&lt;/li&gt;
&lt;li&gt;dkms; Dynamic Kernel Module Support is a program/framework that enables generating of Linux Kernel modules outside the source tree(very important for developers).&lt;/li&gt;
&lt;li&gt;bc; Basic Calculator(do I need to say more?).&lt;/li&gt;
&lt;li&gt;openssl; Library that has some security implementations.&lt;/li&gt;
&lt;li&gt;wget; It&amp;rsquo;s a CLI application to download files from HTTP, HTTPS or FTP.&lt;/li&gt;
&lt;li&gt;git; Without a doubt, one of the most important programs for maintaining and tracking software versions.I won&amp;rsquo;t go on any further, but here is a good place to start on this tool: &lt;a href=&#34;https://git-scm.com/book/de/v2&#34;&gt;https://git-scm.com/book/de/v2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;libncurses-dev; This is the ncurses developers library, a library that provides an API that allows programmers to write applications in the Terminal as if it were a graphical user interface.&lt;/li&gt;
&lt;li&gt;libssl-dev; Same as openssl but for developers.&lt;/li&gt;
&lt;li&gt;libefl-dev: a library that allows high-level ELF reading and writing.In the UNIX world (unlike Tolkien), an ELF is a file format for executables.&lt;/li&gt;
&lt;li&gt;libudev-dev; Udev is the Linux kernel&amp;rsquo;s device manager.&lt;/li&gt;
&lt;li&gt;xz-utils: compression utilities for files in the xz format.&lt;/li&gt;
&lt;li&gt;gawk; You never know when you may need to gawk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OBS: Every time you have a package with the name *-dev it is because it is a developer library that is used for applications that need to be compiled before use.(Remember that before kicking your PC, when your program doesn&amp;rsquo;t compile.).&lt;/p&gt;
&lt;p&gt;After installing this, we can download the new kernel version that we are going to compile. The debian that I have installed is version 5.10 (you can see this with the command &amp;lsquo;uname -a&amp;rsquo;), I&amp;rsquo;m going to install the Linux kernel in version 6.1.4&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s create a directory, so we can work in a more organized way:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir ~/source &amp;amp;&amp;amp; cd ~/source
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now we can download the kernel for compilation (if you want another version, you can simply go here and choose another version: &lt;a href=&#34;https://www.kernel.org/&#34;&gt;https://www.kernel.org/&lt;/a&gt;):&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.1.4.tar.xz
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now let&amp;rsquo;s extract it:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;tar -xvf linux-6.1.4.tar.xz &amp;amp;&amp;amp; cd linux-6.1.4
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now we are finally ready to go to the next part.&lt;/p&gt;
&lt;h1 id=&#34;3-compiling&#34;&gt;3. Compiling&lt;/h1&gt;
&lt;p&gt;This is the final and most painful part of this whole tutorial. Here we are going to use make, a program that reads the makefile and then computes how and what to update and compile.&lt;/p&gt;
&lt;p&gt;The makefile of the kernel has a lot of options (and I mean a loooooooot of options), so I do encourage you to read some of this options and what they do.&lt;/p&gt;
&lt;p&gt;We are going to make the .config file that will tell the compiler what he should or should not compile and how (if it is or is not a module). There are a billion ways to create this file, but we are going to use the local mod one (because that was the one that worked).&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;make localmodconfig
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;They are going to ask you a lot of questions The default ones are usually good enough, but if you are not sure, take your time reading some of the options.If you are not happy with what you have, you can just use &amp;ldquo;make menuconfig&amp;rsquo; and edit some of the options.&lt;/p&gt;
&lt;p&gt;Another way to create this configuration is using &amp;lsquo;make olddefconfig &amp;amp;&amp;amp; make menuconfig&amp;rsquo;. But I have to alert you that if you are going to go that route, you need to remove trusted keys from the system.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CONFIG_SYSTEM_TRUSTED_KEYS=&amp;#34;&amp;#34; 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This is necessary because you&amp;rsquo;re definitely not trustworthy.&lt;/p&gt;
&lt;p&gt;After making the config now you just need to compile the kernel itself. For that, you have some options, and I&amp;rsquo;m going to show you two of them.&lt;/p&gt;
&lt;p&gt;The first one uses only the make:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;make -j2make modules_installmake install 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here &amp;lsquo;make -j2&amp;rsquo; is compiling the kernel, and the flag -j2 tells the compiler how many threads he can use for the compilation. Here I fix the number 2 but you can actually just use 1 thread with the command &amp;lsquo;make&amp;rsquo; or use other quantities (if you want to use all, just type &amp;lsquo;make -j$(nproc)&amp;rsquo;)&lt;/p&gt;
&lt;p&gt;The second way is using make to create a .deb:&lt;code&gt;make -j2 deb-pkg&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In this way, you are going to create some packages that can be installed using dpkg&amp;rsquo;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;dpkg -i linux*.deb
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now everything that you need to do is reboot the system, and if everything goes well, you will have a Debian with a new kernel version.&lt;/p&gt;
&lt;h2 id=&#34;end&#34;&gt;END&lt;/h2&gt;
&lt;p&gt;If you could get to the end of this tutorial, congratulations! You are at least 10 years older than when you arrived. Compiling your own kernel is definitely a pain, but I hope that by the end of this tutorial you will have a better understanding of how the kernel assembly process works.&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;
&lt;p&gt;Here are the links that I used in my journey may they help you:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://wiki.ubuntu.com/Kernel/BuildYourOwnKernel&#34;&gt;https://wiki.ubuntu.com/Kernel/BuildYourOwnKernel&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://wiki.gentoo.org/wiki/Kernel/Configuration&#34;&gt;https://wiki.gentoo.org/wiki/Kernel/Configuration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.kernelconfig.io/index.html&#34;&gt;https://www.kernelconfig.io/index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://lkcamp.gitlab.io/lkcamp_docs/intro_course/lab01/&#34;&gt;https://lkcamp.gitlab.io/lkcamp_docs/intro_course/lab01/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://packages.debian.org/sid/&#34;&gt;https://packages.debian.org/sid/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://wiki.archlinux.org/title/Kernel/Traditional_compilation&#34;&gt;https://wiki.archlinux.org/title/Kernel/Traditional_compilation&lt;/a&gt;&lt;/p&gt;
</description>
      <author>Victor Briganti</author>
      <guid>https://maverick.canhtran.me/posts/debian-kernel/</guid>
      <pubDate>Sun, 01 Oct 2023 00:00:00 +0000</pubDate>
    </item>
    
    <item>
      <title>Understanding Compilers</title>
      <link>https://maverick.canhtran.me/posts/compiler-world/</link>
      <description>&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#1introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2its-all-binaries&#34;&gt;It&amp;rsquo;s All Binaries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3automatons-roll-out&#34;&gt;Automatons Roll Out&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-compiling&#34;&gt;Compiling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5flexing-my-bison-with-a-calculator&#34;&gt;Flexing my Bison with a Calculator&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1introduction&#34;&gt;1.Introduction&lt;/h2&gt;
&lt;p&gt;When we think of computers, particularly programming languages, one of the first questions that should come to mind is, &amp;ldquo;How does the computer understand that?&amp;ldquo;And that is one of the questions that can be answered by analyzing how a compiler works.&lt;/p&gt;
&lt;p&gt;Compilers are basically programs that can translate programming languages into computer language. And that is what we are going to talk about in this article.&lt;/p&gt;
&lt;h2 id=&#34;2its-all-binaries&#34;&gt;2.It&amp;rsquo;s All Binaries&lt;/h2&gt;
&lt;p&gt;As I was saying in the introduction, for the computer to be able to execute some program, he needs to be able to read and understand the file, and for that to work, it&amp;rsquo;s necessary to transform the file into a binary format.&lt;/p&gt;
&lt;p&gt;All the things that the computer understands are basically 1s and 0s (on and off), and the computer works like that because its hardware architecture is basically a bunch of wires receiving electrical signals, and each one of these signals is going to be read by the CPU which will perform some action. There are various computer architectures, but in a similar way to how we give a context to sound and call it a world, signals provide context, and the combination of some of them has meaning, as in the case of &amp;ldquo;01101000 01101001&amp;rdquo; (which means hi in binary).Some actions are performed as we give meaning to these combinations and pass them on to the CPU, such as arithmetic operations.&lt;/p&gt;
&lt;p&gt;But the thing is, it&amp;rsquo;s extremely difficult to write a word in binary in two letters because it requires 16 numbers to be written, so programming languages emerge over time. A programming language is a method that we discovered for writing binary in a comprehensive manner. We write the program in the same way that we would write any other type of text, using our usual alphabet (but with different grammatical rules), and then pass that text to a translator, which is where we introduce the compiler. Everything that the compiler does is to get this text that you write, read it and translate it in a way that a computer could also read it and perform the actions that you are specifying.&lt;/p&gt;
&lt;h2 id=&#34;3automatons-roll-out&#34;&gt;3.Automatons Roll Out&lt;/h2&gt;
&lt;p&gt;Before we get to studying the compilers, it is important to understand some other concepts of computation. And one of the most important theories that we need to understand when we are dealing with computers is the theory of automata.&lt;/p&gt;
&lt;p&gt;This theory studies the idea of an abstract machine and how it would work. This theory is a little bit extensive to be covered in one single article, but in a brief way, we have different kinds of machines, each with a different way of executing an action. The states machine will most likely be used for the compiler&amp;rsquo;s part.&lt;/p&gt;
&lt;p&gt;In automata, a state machine, will perform actions depending on the state where you are and the input you receive.&lt;/p&gt;
&lt;p&gt;&lt;img
  src=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/DFAexample.svg/300px-DFAexample.svg.png&#34;
  alt=&#34;&#34;
  loading=&#34;lazy&#34;
  decoding=&#34;async&#34;
  class=&#34;full-width&#34;
/&gt;

&lt;/p&gt;
&lt;p&gt;This is an example of a state machine in which the inputs are 0 and 1, and each time an input is passed in a specific state, the machine moves to another state (or remains in the same state), and the machine is in an accepted state when it stops at S1 after all inputs. These are machines that can have more than one accepted state. In more complex machines, we have a nondeterministic way of dealing with the inputs, which can be a problem in some cases, in other cases, not just the states are needed, but a stack is needed to store the inputs, and that can get more and more complex depending on the machine.&lt;/p&gt;
&lt;p&gt;The compiler itself is not tied to a machine type, but we study automata theory mainly because we use its concepts in the creation of a grammar. We use a grammar to identify states that a machine can be in and to generate tokens that can be translated in a way that the computer can follow the correct flow of execution.&lt;/p&gt;
&lt;p&gt;For that to be possible, we use the concept of regular expressions, which in a simple way can identify patterns in a string. An example of this is the regex (for the non-intimate regular expressions) &amp;lsquo;[0-9]+&amp;rdquo; in which we are recognizing all the patterns of numbers (0 to 9) that appear one or more times (which is done with the + symbol). With this expression, we can generate tokens that express a number for the compiler.&lt;/p&gt;
&lt;p&gt;To make this idea a little simpler to visualize, let&amp;rsquo;s exemplify with a grammar rule:&lt;/p&gt;
&lt;p&gt;E -&amp;gt; E + E&lt;/p&gt;
&lt;p&gt;E -&amp;gt; E * E&lt;/p&gt;
&lt;p&gt;With this grammar here, we are saying that every id (that in this case we are going to consider a number) can be considered a E(an expression) and as you can see going up the grammar, we can a addition on the multiplication of two expressions within a expression itself. So in a more simple way, an expression like 1+1*2 can be:&lt;/p&gt;
&lt;p&gt;-&amp;gt; 1+1*2&lt;/p&gt;
&lt;p&gt;-&amp;gt; E+1*2&lt;/p&gt;
&lt;p&gt;-&amp;gt; E+E*2&lt;/p&gt;
&lt;p&gt;-&amp;gt; E*2&lt;/p&gt;
&lt;p&gt;-&amp;gt; E*E&lt;/p&gt;
&lt;p&gt;-&amp;gt; E&lt;/p&gt;
&lt;p&gt;This is the way that compilers identify expressions and organize the execution of the code. I not going to extend myself further on this, but if you are curious and want to play with grammar, this site is wonderful:
&lt;a href=&#34;https://mdaines.github.io/grammophone/#/lalr1-automaton&#34;&gt;https://mdaines.github.io/grammophone/#/lalr1-automaton&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-compiling&#34;&gt;4. Compiling&lt;/h2&gt;
&lt;p&gt;And finally we get to compiling this is one of the most extensive subjects in computing and one of the most complex as well. I will try to give you a brief introduction on this subject in a way that is easy to follow without getting into too many details.&lt;/p&gt;
&lt;p&gt;So as we see in the automatons, we have a grammar that is basically a programming language. So one of the first things that a compiler needs to know is how to interpret a grammar, in most cases, the compiler passes a lexical analyzer that will identify the tokens (as we already did) and then he parses these tokens, generating blocks of code that can be read and executed.&lt;/p&gt;
&lt;p&gt;Some of the things that the compiler needs to consider when doing his analysis are the names of variables, he needs to consider the type of the variable because each kind has a different size in memory, and he also needs to know how they are going to interact with each other. For example in C a char is 1 byte, int is 4 bytes, a long is 8 bytes and so on, in addition to this there&amp;rsquo;s special kinds of variables, as is the case of the struct that can receive different variables within itself or the array that supports several of the same type not to mention the pointers that work in a completely different way with memory addresses. Not only that, but the compiler must understand how the program will interact with the operational system, as each has a unique way of working with executables. One interesting study case is Java because this language has a virtual machine (JVM), and instead of executing directly in the OS the code is first translated in a way that the JVM can read, and then the JVM talks to the OS. That&amp;rsquo;s a really clever way to port a code to multiple types of operating systems without having to change the code.&lt;/p&gt;
&lt;p&gt;An executable segment can be called a block of code, These blocks are basically binary blocks that are going to be pushed into the memory and then from the memory to the CPU to perform some actions. Each new function or library needs to be pushed into the main memory (usually the RAM), we can divide this memory in this concept:&lt;/p&gt;
&lt;p&gt;As you can see in the image, we have the global and static memory where we can find the main function and some global variables, and then we have the stack and the heap, which is where we are going to push the functions and other dynamic variables.&lt;/p&gt;
&lt;p&gt;Another important process that is not the compiler&amp;rsquo;s responsibility but that we ended up associating with him is the linking process, which is when we get a function from another file and push it to memory to be used with our program or the so-called libraries.To make this work, the compiler needs to leave blank addresses that are going to be picked up by the linker and associated with the right library.&lt;/p&gt;
&lt;p&gt;This topic is very complex and has a lot of discussion on each subtopic. I&amp;rsquo;ll give you some links to other places where you can read more about it and understand some concepts in greater depth:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://akkadia.org/drepper/dsohowto.pdf&#34;&gt;https://akkadia.org/drepper/dsohowto.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.lurklurk.org/linkers/linkers.html&#34;&gt;Beginner&amp;rsquo;s Guide to Linkers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www2.hawaii.edu/~takebaya/ics111/process_of_programming/process_of_programming.html&#34;&gt;http://www2.hawaii.edu/~takebaya/ics111/process_of_programming/process_of_programming.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amazon.com/Engineering-Compiler-Keith-D-Cooper/dp/0128154128/ref=zg_bs_3970_sccl_6/130-6334203-3969022?psc=1&#34;&gt;https://www.amazon.com/Engineering-Compiler-Keith-D-Cooper/dp/0128154128/ref=zg_bs_3970_sccl_6/130-6334203-3969022?psc=1&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;5flexing-my-bison-with-a-calculator&#34;&gt;5.Flexing my Bison with a Calculator&lt;/h2&gt;
&lt;p&gt;For you guys (and for myself too) I made a little program that will work as a calculator with Flex and Bison. &amp;ldquo;What the f@$k is Flex and Bison?&amp;rdquo; you might ask. &amp;ldquo;Be patient, young padawan. I&amp;rsquo;m going to explain what they do and give you my little program so you can play with it a little.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;So starting with Flex (the fast lexical analyzer) he is responsible for getting a file, analyzing each word, and returning a token. Here is an example of part of the code in my calculator:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;#34;+&amp;#34; { return ADD; }
&amp;#34;-&amp;#34; { return SUB; }
&amp;#34;*&amp;#34; { return MULT; }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see, we have three symbols: the plus, minus, and asterisk. Each time one of them is found in a file that is passed to the flex the ADD, SUB or MULT will be respectively returned. As we pass these values to our YACC (yet another compiler-compiler, in this case the Bison),&lt;/p&gt;
&lt;p&gt;When we get into the Bison, what we get is the grammar part and some other code parts that are going to be executed as the tokens are passed. Here is the Bison part of the calculator:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;int_expr: I_NUM { $$ = $1; }
    | int_expr ADD int_expr { $$ = $1 + $3; }
    | int_expr SUB int_expr { $$ = $1 - $3; }
    | int_expr MULT int_expr { $$ = $1 * $3; }
    | P_LEFT int_expr P_RIGHT { $$ = $2; }
    | SUB int_expr { $$ = -$2; }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here is the grammar, and as you can see, there are two types of tokens: the expression (in this case, an integer expression) and the operation token, which will define some kind of arithmetic operation.&lt;/p&gt;
&lt;p&gt;So we will compile (well, if that is not ironic) these two programs together, and we will have a program that can read and execute the expression in the correct flow of data.&lt;/p&gt;
&lt;p&gt;If you want to see the whole program, you can get the source code here:&lt;a href=&#34;https://github.com/JohhnMag0/Abaco-Calculator&#34;&gt;GitHub - JohhnMag0/Abaco-Calculator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The documentation of flex and bison is not very good(for me at least), so if you want toy with it a little I recommend this book as a entrance in this worl &lt;a href=&#34;https://www.amazon.com.br/Flex-Bison-John-Levine/dp/0596155972/ref=sr_1_1?keywords=flex+and+bison&amp;amp;qid=1670848361&amp;amp;sr=8-1&amp;amp;ufe=app_do%3Aamzn1.fos.6d798eae-cadf-45de-946a-f477d47705b9&#34;&gt;https://www.amazon.com.br/Flex-Bison-John-Levine/dp/0596155972/ref=sr_1_1?keywords=flex+and+bison&amp;amp;qid=1670848361&amp;amp;sr=8-1&amp;amp;ufe=app_do%3Aamzn1.fos.6d798eae-cadf-45de-946a-f477d47705b9&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the ones that don&amp;rsquo;t like C(you guy are monsters) there is other types of librarys that can be useful for you that are write in other languages. Here is one that is written in python is a little old but is good enough: &lt;a href=&#34;https://www.dabeaz.com/ply/&#34;&gt;PLY (Python Lex-Yacc)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And if you are really hardcore(&lt;a href=&#34;https://www.youtube.com/watch?v=b-HbPN6n2Gc&#34;&gt;Jorge: Quiere ser hardcore y su mama no lo deja - YouTube&lt;/a&gt;) and want to go all win writing your first language(because why not) the lvm has a great documentation on how to start [My First Language Frontend with LLVM Tutorial — LLVM 16.0.0git documentation](&lt;a href=&#34;https://llvm.org/docs/tutorial/MyFirstLanguageFrontend/index.html&#34;&gt;https://llvm.org/docs/tutorial/MyFirstLanguageFrontend/index.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;end&#34;&gt;END&lt;/h2&gt;
&lt;p&gt;The concept of compilers is an extremely dense thing and you can really go down a rabbit hole when studying it but I hope this article has shed some light on what it is and where you can start. Stay safe and goodbye.&lt;/p&gt;
</description>
      <author>Victor Briganti</author>
      <guid>https://maverick.canhtran.me/posts/compiler-world/</guid>
      <pubDate>Sun, 11 Dec 2022 00:00:00 +0000</pubDate>
    </item>
    
    <item>
      <title>Vim or How do I exit this?</title>
      <link>https://maverick.canhtran.me/posts/vim-exiting/</link>
      <description>&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#1-introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-a-brief-history-of-vim&#34;&gt;A Brief History of VIM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-vimtutor&#34;&gt;VIMtutor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-modes&#34;&gt;Modes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-useful-commands&#34;&gt;Useful Commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-plug-ins-and-vimrc&#34;&gt;Plug-ins and .vimrc&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1-introduction&#34;&gt;1. Introduction&lt;/h2&gt;
&lt;p&gt;If you came here because of the title, I will just answer you on the spot: :wq if you want to save before leaving, or :q! if you just want to exit without saving. If that was all that you needed to know and you really didn&amp;rsquo;t like how difficult it was to use Vim, I can&amp;rsquo;t hold you in this article anymore. All I can say is good luck on your journey and try using Nano next time. Now, if you came here with the idea of learning a little bit more about how this wonderful (but sometimes complex) tool works, you&amp;rsquo;re welcome. So let&amp;rsquo;s start.&lt;/p&gt;
&lt;h2 id=&#34;2-a-brief-history-of-vim&#34;&gt;2. A Brief History of VIM&lt;/h2&gt;
&lt;p&gt;VIM is actually an acronym for &amp;ldquo;Vi IMproved,&amp;rdquo; and what the heck is VI? Well, VI was a text editor created in the UNIX era, which in turn was based on ed, a line editor that was the basis for the creation of another fantastic tool, sed, but I&amp;rsquo;m not going to talk about it (not now, anyway). The thing is, VIM comes from an ancient lineage of editors, and that is why there are a lot of things in Vim that don&amp;rsquo;t look quite right or seem more complex than they need to be. But what I&amp;rsquo;m really going to try to show you is that although it seems very complicated to use this tool, each of the little pieces that make it up is very well planned, and you really need to consider that in the technological field, something that continues to exist even after a long time has managed to prove itself. So if you are having trouble getting used to VIM, don&amp;rsquo;t give up; you can do amazing things with it—just give yourself time. Now that I&amp;rsquo;ve paid tribute to Bram Moolenaar and given you a life lesson (which you didn&amp;rsquo;t ask for, by the way), let&amp;rsquo;s see it in practice.&lt;/p&gt;
&lt;h2 id=&#34;3-vimtutor&#34;&gt;3. VIMtutor&lt;/h2&gt;
&lt;p&gt;One of the first things that you need to get used to if you want to work with software is reading the documentation. This is one of those things that you really should start doing because it is the best way to learn (if the documentation is good). In the case of Vim, we have the vimtutor (just paste it in your terminal), and just like that, you have all that you need to get started with Vim. At first, it will look like a lot, and quite frankly, I don&amp;rsquo;t remember everything that Vim can do and very often need to refer to my notes to remember some of those things. It&amp;rsquo;s very important that you read that documentation and try some of the commands that appear; you will not know everything, but with time, you will see which things you will be using very often. Another great source for learning is books, and for me, one of the greatest books if you want to learn about Vim or Neovim is Practical Vim by Drew Neil. It&amp;rsquo;s a great source of material and will give you a good grasp on Vim.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;modes&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-modes&#34;&gt;4. Modes&lt;/h2&gt;
&lt;p&gt;If you followed what I said in the previous section, much of what I am going to say here you must have already seen. But revisiting never hurts. So before we get started, I need you to understand the modes that you are going to encounter, because each command has to be entered in a certain mode to work.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Normal: When you open a file, this is the first mode you see. You can think of this mode as the movement mode; it’s here that you are going to move lines, delete, copy, paste, and so on. It&amp;rsquo;s also from this mode that you can go to any other mode. You can access this mode by pressing Esc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Insert: This is the mode that you use to insert text. You can also do movement in this mode, but in Normal mode, it&amp;rsquo;s way faster. You can enter this mode by pressing i when in Normal mode.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Visual: In this mode, you can select a lot of lines all at once, similar to what you do with the mouse. Here, you can use the same movements as in Normal mode, but this mode really shines in copying, pasting, and deleting lines. In Normal mode, press v to enter Visual mode. There are variations such as &amp;ldquo;visual block,&amp;rdquo; which lets you select by column, and &amp;ldquo;visual line,&amp;rdquo; which allows you to select several lines at the same time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Command: In this mode, which is accessed by pressing the : key in Normal mode, you can enter commands such as substitution commands or the help command, for example. I&amp;rsquo;m going to leave an image here that summarizes some of the commands available on the keyboard. You are probably screaming and asking, &amp;ldquo;WHY ARE THERE SO MANY MODES? I JUST WANT TO WRITE!&amp;rdquo; I know that at first it looks like an airplane cockpit, and that&amp;rsquo;s why I like to start with some history. You need to understand that this was created before the mouse era, so the big thing about Vim is that you can do pretty much everything using just the keyboard. Again, have a little patience, and you will get there.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id=&#34;commands&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-useful-commands&#34;&gt;5. Useful Commands&lt;/h2&gt;
&lt;p&gt;So now that you are starting to get used to some terminologies and commands, we are going to move forward so that I can show you some commands that I think are very useful. So let&amp;rsquo;s get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;f&amp;lt;letter&amp;gt;: With this command, you can jump to a certain pattern within a line. You can go forward or backward using ; or ,.&lt;/li&gt;
&lt;li&gt;x: Deletes a character.&lt;/li&gt;
&lt;li&gt;0: Moves to the start of the line.&lt;/li&gt;
&lt;li&gt;$: Moves to the end of the line.&lt;/li&gt;
&lt;li&gt;*: Selects a whole word in the file. You can search for this word using n for forward searches or N for backward searches.&lt;/li&gt;
&lt;li&gt;:&amp;lt;number&amp;gt;: Moves to any line that you specify.&lt;/li&gt;
&lt;li&gt;:&amp;lt;number&amp;gt;t&amp;lt;number&amp;gt;: Copies the content from the first line number to the second line number.&lt;/li&gt;
&lt;li&gt;:&amp;lt;number&amp;gt;m&amp;lt;number&amp;gt;: Moves the content from the first line number to the second line number.&lt;/li&gt;
&lt;li&gt;&amp;lt;CTRL-o&amp;gt;: A very cool command that I don&amp;rsquo;t see many people talking about. If you press this in Insert mode, it enters Normal mode, executes an action, and returns to Insert mode.&lt;/li&gt;
&lt;li&gt;&amp;lt;CTRL-n&amp;gt; and &amp;lt;CTRL-p&amp;gt;: These two commands in Insert mode permit you to autocomplete a word.&lt;/li&gt;
&lt;li&gt;&amp;lt;CTRL-x&amp;gt; followed by &amp;lt;CTRL-l&amp;gt;: These two commands need to be used one after another, but they basically autocomplete an entire line.&lt;/li&gt;
&lt;li&gt;k, j, h, and l: In Normal or Visual mode, these correspond to the arrows up (k), down (j), left (h), and right (l).&lt;/li&gt;
&lt;li&gt;w: Moves to the start of the next word.&lt;/li&gt;
&lt;li&gt;e: Moves to the end of the next word.&lt;/li&gt;
&lt;li&gt;b: Moves to the start of the previous word.&lt;/li&gt;
&lt;li&gt;y: Copies. yw copies the entire word.&lt;/li&gt;
&lt;li&gt;p and P: Both are used to paste, but p pastes after the line, and P pastes before the line.&lt;/li&gt;
&lt;li&gt;d: Deletes. It&amp;rsquo;s important to know that in Vim, deleting something is the same as cutting, so if you copy some text and then delete, the text in your buffer will be the one that was deleted. dw deletes an entire word.&lt;/li&gt;
&lt;li&gt;c: Deletes and enters Insert mode (very good for saving time). One good use of this command is with w; cw lets you delete a word and insert text at the same time.&lt;/li&gt;
&lt;li&gt;&amp;lt;CTRL-v&amp;gt; followed by &amp;lt;SHIFT-i&amp;gt;: When in block Visual mode, select all the lines that you want to edit, then press &lt;SHIFT-i&gt; and make the edits you want, then press &amp;lt;ESC&amp;gt;. All the lines you selected will be edited.&lt;/li&gt;
&lt;li&gt;/ and ?: These commands allow you to search for a word in the entire file. n searches forward, and N searches backward. / starts the search from the top, and ? starts the search from the bottom.&lt;/li&gt;
&lt;li&gt;// and ??: Executes the last search.&lt;/li&gt;
&lt;li&gt;=: This magical command allows you to indent all your code (just beautiful).&lt;/li&gt;
&lt;li&gt;.: Executes the last command.&lt;/li&gt;
&lt;li&gt;%s/undone/done/g: This is an important command to remember. With this command, you can substitute every occurrence of a word. So let&amp;rsquo;s break it down: % means all lines (you could substitute this for specific lines), s means substitute, /undone is the word you are searching for, /done is the word that will replace /undone, and /g means to execute it globally; otherwise, it would execute just once per line.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are other commands and features you could learn about Vim, such as registers and macros, which can really improve your experience. But I won&amp;rsquo;t cover those in this article. If you are interested in this type of thing, you could refer to the book I recommended earlier; it covers a lot of this kind of content.&lt;/p&gt;
&lt;h2 id=&#34;6-plug-ins-and-vimrc&#34;&gt;6. Plug-ins and .vimrc&lt;/h2&gt;
&lt;p&gt;If you are already feeling overwhelmed by all this, don&amp;rsquo;t worry; there&amp;rsquo;s always more. One of the greatest things about Vim is that it&amp;rsquo;s very flexible and lets you use the tool in the way that you think suits you best.&lt;/p&gt;
&lt;p&gt;There are two ways of customizing your Vim experience: you can modify its usability by adding extensions, which will give you a whole new perspective on what you can do. For that, you can use plug-ins. I have to admit that I&amp;rsquo;m not a huge fan of using plug-ins myself, but if you need something more robust, you should definitely take a look. When we talk about plug-ins, we also need to talk about Neovim. It’s essentially what Vim was to VI—a way to improve the software. Although there’s kind of a rivalry between users of both, I have to say that if you need something more like an IDE, you should definitely consider Neovim. The best thing about it is that you can have both on your machine, so it’s definitely worth exploring.&lt;/p&gt;
&lt;p&gt;Another thing you can do to make your life easier while using Vim is to have a good .vimrc, which is your configuration file. With this file, you can install your plug-ins, change keybindings, and more. Knowing how to configure your .vimrc is as important as learning any keybinding because it’s through this configuration file that you can make Vim feel exactly how you want it to, so keep that in mind.&lt;/p&gt;
&lt;p&gt;One of the things about dotfiles and plug-ins is that they are very personal, and I can’t tell you exactly what you should or shouldn’t use. Instead of showing you my dotfile and the plug-ins that I’m currently using, I will give you some links to good starting points:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/junegunn/vim-plug&#34;&gt;GitHub - junegunn/vim-plug: Minimalist Vim Plugin Manager&lt;/a&gt; This one is my personnal favorite in plug-in management, if you are gonna use the neovim you&amp;rsquo;re probably using other extension but this one works quite well for me.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/NvChad/NvChad&#34;&gt;GitHub - NvChad/NvChad: An attempt to make neovim cli functional like an IDE while being very beautiful, blazing fast startuptime ~ 14ms to 67ms&lt;/a&gt; This is more a a place to start, here you are gonna find a neovim distribution that come with a lot of things pre-configured, you don&amp;rsquo;t need to use this but it&amp;rsquo;s nice to have a base to start with.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://vimhelp.org/?&#34;&gt;Vim: help.txt&lt;/a&gt; again the vim documentation is one of the best places to get anything that you need to know. And this is the case for .vimrc .&lt;/p&gt;
&lt;p&gt;You can also get better information about the options in .vimrc with the command :help vimrc.&lt;/p&gt;
&lt;h2 id=&#34;end&#34;&gt;END&lt;/h2&gt;
&lt;p&gt;So we’ve reached the end of this article. I hope that you’ve gotten a good push in the direction of how to use Vim and where to start. And as always, remember :wq (stay safe and goodbye).&lt;/p&gt;
</description>
      <author>Victor Briganti</author>
      <guid>https://maverick.canhtran.me/posts/vim-exiting/</guid>
      <pubDate>Mon, 10 Oct 2022 00:00:00 +0000</pubDate>
    </item>
    
    <item>
      <title>Generating Random Passwords</title>
      <link>https://maverick.canhtran.me/posts/generate-password/</link>
      <description>&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#im-sorry-dave&#34;&gt;Why Can&amp;rsquo;t Computers Generate Random Numbers?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#random&#34;&gt;/dev/urandom and /dev/random&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cli&#34;&gt;Implementing a CLI on Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id=&#34;introduction&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-introduction&#34;&gt;1. Introduction&lt;/h2&gt;
&lt;p&gt;I have been taking some classes at the university over the past few weeks, and we have started to get a grasp on the C programming language. I really like the idea of seeing how things work under the hood. However, I believe that the best way to see if you are making progress is to work on projects. One of the things I consider very useful, but which is not provided by default on Linux, is a random password generator. So, I decided to create a simple CLI program that generates random passwords. In this article, we will explore how this program is implemented and why I made certain decisions.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;im-sorry-dave&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-why-cant-computers-generate-random-numbers&#34;&gt;2. Why Can&amp;rsquo;t Computers Generate Random Numbers?&lt;/h2&gt;
&lt;p&gt;As you may know, a computer is essentially a sophisticated calculator, used historically by NASA to go to the moon and more recently by your grandmother to play Candy Crush. Because of this, computers are designed to perform calculations, which makes true random number generation difficult. If you think about it, you can&amp;rsquo;t simply input two values into a calculator and expect a random result (e.g., 2+2=127), and thank goodness for that. While it&amp;rsquo;s good that computers don&amp;rsquo;t return truly random numbers in their calculations, this becomes problematic when true randomness is needed, such as in cryptography.&lt;/p&gt;
&lt;p&gt;To address this, some very smart people have developed methods for generating pseudo-random numbers. Most programming languages and even operating systems have implementations for generating pseudo-random numbers. In C, a common function provided by the standard library is rand() and its companion srand():&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rand(): This function returns a pseudo-random number. Its implementation is as follows:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75af00&#34;&gt;rand_r&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;seed&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;seed&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1103515245&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12345&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1103515245&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12345&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;^=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1103515245&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;12345&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;^=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;seed&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;next&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#00a8c8&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;result&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#111&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Source: What common algorithms are used for C&amp;rsquo;s rand()? - Stack Overflow&lt;/p&gt;
&lt;p&gt;This function uses a seed (an integer) and performs basic computational operations like addition, multiplication, and bit manipulation to generate a number that &amp;ldquo;looks&amp;rdquo; random. Note that this function will always generate the same sequence of numbers given the same seed, so be cautious when using it in production.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;srand(): This function is used to set the seed for rand(). The &amp;rsquo;s&amp;rsquo; in srand stands for seed. Unlike rand(), srand() requires an argument, which is usually the current time (using the time.h library in C). By providing a new seed each time the program runs, you ensure different random numbers.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Although these functions are good for generating random numbers, they may not be suitable for more robust needs, such as in a password generator that requires high entropy (i.e., completely different numbers). As previously mentioned, rand() generates the same sequence of numbers if given the same seed, and srand() can cause issues if the seed is not sufficiently varied, potentially generating the same password.&lt;/p&gt;
&lt;p&gt;Therefore, I decided to use a different approach to generate the random numbers needed for my program.&lt;/p&gt;
&lt;p&gt;Note: If you are interested in the topic of generating random numbers, here are three videos that discuss this subject:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=aSlkVy3mbR0&amp;amp;list=TLPQMDkwOTIwMjIIH55doAV2ew&amp;amp;index=4&#34;&gt;Random Numbers (How Software Works) - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=Ks1pw1X22y4&amp;amp;list=TLPQMDkwOTIwMjIIH55doAV2ew&amp;amp;index=4&#34;&gt;Random Numbers with LFSR (Linear Feedback Shift Register) - Computerphile - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=_tN2ev3hO14&#34;&gt;NMCS4ALL: Random number generators - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id=&#34;random&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;/dev/random and /dev/urandom&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Before diving into the details of my approach, it&amp;rsquo;s important to note that the method I&amp;rsquo;m using is just one of many ways to generate random numbers. A quick search in C forums will reveal numerous libraries with complex mathematical expressions used for this purpose. Here is a Wikipedia article that provides an overview of some random number generation algorithms: List of Random Number Generators - Wikipedia.&lt;/p&gt;
&lt;p&gt;I will now discuss two files in the Linux system: /dev/random and /dev/urandom. Both of these files are used by the OS to generate random numbers. They essentially provide a stream of &amp;ldquo;noise&amp;rdquo; from the system, collected from drivers and other sources since boot.&lt;/p&gt;
&lt;p&gt;You may wonder why there are two files. /dev/random is built up as the system runs and needs time to collect sufficient noise. This can cause reads from this file to be blocked until it has enough entropy to provide a response.&lt;/p&gt;
&lt;p&gt;In contrast, /dev/urandom uses some of the already existing noise in the system, which makes it slightly less random, but it is available immediately for requests.&lt;/p&gt;
&lt;p&gt;Here’s how this is done in my code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;gendigit&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;size&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00a8c8&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;randval&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;FILE&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00a8c8&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;NUM&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00a8c8&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;pass&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;size&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;f&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;fopen&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;/dev/urandom&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;r&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#00a8c8&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;size&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75af00&#34;&gt;fread&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;randval&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;sizeof&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;randval&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#111&#34;&gt;pass&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;randval&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75af00&#34;&gt;printf&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;%c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;pass&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75af00&#34;&gt;fclose&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75af00&#34;&gt;printf&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#8045ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In this function, we print a series of random digits. The pointer *f of type FILE is used to open the /dev/urandom file, read random values, and generate a password. This pointer is somewhat analogous to how your grandmother might read a restaurant menu by moving her finger across it.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;cli&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-implementing-the-cli-program&#34;&gt;4. Implementing the CLI Program&lt;/h2&gt;
&lt;p&gt;As mentioned, this is about a CLI program, so we need to work with the shell. I won&amp;rsquo;t explain how the shell works in this article, as it&amp;rsquo;s a broad topic, but I will briefly cover how to enhance your CLI program with some shell functions.&lt;/p&gt;
&lt;p&gt;If you’ve used Linux, you’ve likely used the terminal. Pressing &lt;TAB&gt; while typing a command in the terminal triggers auto-completion, which is a useful feature. Shell variables can be used or created for various purposes. Shells often work with parent and child processes, with variables existing only in one or the other, or both.&lt;/p&gt;
&lt;p&gt;When you execute a script with ./script.sh, only the variables specified in the script are available. Using the source command executes the script in the current shell process, making all variables in and out of the script accessible. This is why you always need to source your .bashrc to apply new settings.&lt;/p&gt;
&lt;p&gt;Here’s an example of a bash completion script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;_genp_completion&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;${#&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;COMP_WORDS&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[@]&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt; !&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#00a8c8&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;COMPREPLY&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=(&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;compgen&lt;/span&gt; -W &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;--alphanum --digit --symbol --help&amp;#34;&lt;/span&gt; -- &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;COMP_WORDS&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[1]&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;complete&lt;/span&gt; -F _genp_completion genp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This script enables auto-completion for the genp command by using complete to call a function that checks the number of arguments and provides completion options.&lt;/p&gt;
&lt;p&gt;To use this script, add the following line to your .bashrc:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;source&lt;/span&gt; &amp;lt;dir&amp;gt;/genp_completion.bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This allows you to use &lt;TAB&gt; for auto-completing the options available in your program.&lt;/p&gt;
&lt;p&gt;Here are some useful links to understand the source command and bash completion:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://superuser.com/questions/176783/what-is-the-difference-between-executing-a-bash-script-vs-sourcing-it/176788#176788&#34;&gt;linux - What is the difference between executing a Bash script vs sourcing it? - Super User&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://iridakos.com/programming/2018/03/01/bash-programmable-completion-tutorial&#34;&gt;Creating a bash completion script&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://spin.atomicobject.com/2016/02/14/bash-programmable-completion/&#34;&gt;How to Use Bash Programmable Completion&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;end&#34;&gt;END&lt;/h2&gt;
&lt;p&gt;With that, we come to the end of this article. Here is the source code for this program on GitHub and GitLab, along with the guide to installing the autocompletion I discussed. The program is functional but has room for improvement. If you spot a bug or have suggestions, I’d love to hear from you. Take care, and see you next time.&lt;/p&gt;
&lt;p&gt;Feel free to adjust further based on your preferences!&lt;/p&gt;
</description>
      <author>Victor Briganti</author>
      <guid>https://maverick.canhtran.me/posts/generate-password/</guid>
      <pubDate>Fri, 09 Sep 2022 00:00:00 +0000</pubDate>
    </item>
    
    <item>
      <title>Implementing 2fa Authentication in PHP</title>
      <link>https://maverick.canhtran.me/posts/2fa-authentication/</link>
      <description>&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#what-is-otp&#34;&gt;What is OTP?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#uri-format&#34;&gt;URI Format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#encoding-with-base32&#34;&gt;Encoding with Base32&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#generating-qr-code&#34;&gt;Generating a QR Code&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id=&#34;introduction&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-introduction&#34;&gt;1. Introduction&lt;/h2&gt;
&lt;p&gt;For the past month, I have been working on a library for PHP that implements OTP (One-Time Password) in an easy way. In the following sections, I will explain each technology and protocol used to build this software. If you prefer to skip the technical details, you can go directly to the explanation of the library.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;what-is-otp&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-what-is-otp&#34;&gt;2. What is OTP?&lt;/h2&gt;
&lt;p&gt;Simply put, OTP is a One-Time Password. It’s a password that can only be used once and is commonly used in two-factor authentication. There are various ways to implement OTPs in hardware or software, involving different algorithms for generating these passwords. In this article, I will explain a bit about HOTP (HMAC-based OTP) and TOTP (Time-based OTP).&lt;/p&gt;
&lt;p&gt;HOTP: Before explaining HOTP, it’s important to understand HMAC. HMAC stands for Hash-based Message Authentication Code, which essentially means that the message is encrypted using a secret key. In simple terms, HMAC takes a message and a secret, combines them, and uses an algorithm like SHA-1 to produce a hash. Now that you understand HMAC, we can look at RFC 4226, which defines HOTP and its implementation. This standard describes HOTP as a count-based or sequential-based method for generating one-time passwords. Each time a password is used, its count is incremented (usually by 1), resulting in a new password. The number of digits, how the count increments, and the hash algorithm can be customized. Due to its simplicity, HOTP can be implemented on many devices (which just need to count). To use HOTP, you need a password that can be randomly generated by the system or created by the user. HMAC and the algorithm generate these codes, as explained in the algorithm section. From the user’s perspective, they use the OTP, and each time they are authenticated, they must refresh their password, increasing the count. Despite its simplicity, there are important security and reliability measures to consider. For example, implement methods to prevent brute-force attacks since a 6-digit password can be easily brute-forced. It’s also crucial to handle the count value properly; if the user is using an app like Google Authenticator, your system doesn’t know the user’s count. Implement a window of values to verify counts that are out of sync with the server.&lt;/p&gt;
&lt;p&gt;TOTP: Defined by RFC 6238, TOTP is a variant of HOTP that uses time instead of a counter for password generation. Essentially, TOTP is similar to HOTP, but it incorporates UNIX timestamps. UNIX was one of the first operating systems and introduced a time standard that marks the start as January 1, 1970, 00:00:00. This timestamp is widely used today, and TOTP uses this to determine the value for generating the OTP. Instead of counts, TOTP defines a time period (usually 30 seconds) during which the password is valid. The advantage of TOTP is that the password regenerates within each period, so the user doesn’t need to refresh it manually. However, this introduces the issue of clock synchronization. To address this, you can implement control measures, such as checking time with an NTP server, but this also has limitations (latency, server downtime, etc.). Another approach is to create a time window, similar to the HOTP count, where you verify a period before and after the current time.&lt;/p&gt;
&lt;p&gt;Algorithm: Now that you understand HOTP and TOTP, let’s briefly look at how the algorithm generating these digits works. First, generate the hash using the count/time value, secret, and hash algorithm. The secret can be randomly generated or entered by the user, and the hash algorithm can be chosen from accepted algorithms (e.g., SHA1, SHA256, SHA512). The count/time needs to be transformed into a binary string. Here’s a brief overview of the PHP code for HOTP and TOTP:&lt;/p&gt;
&lt;p&gt;HOTP:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#75af00&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00a8c8&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;$i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;$byte_count&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;$i&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;chr&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;$count&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0xff&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;$count&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;$count&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This loop processes each byte of the count, masks it with 0xff to get the bits, and converts it to a character. The count is then shifted right by 8 bits to process the next byte. If the resulting string is less than 8 bytes, it pads with 0s.&lt;/p&gt;
&lt;p&gt;TOTP:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#75af00&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;$binary_timestamp&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;pack&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#39;N*&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;pack&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#d88200&#34;&gt;&amp;#39;N*&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#75af00&#34;&gt;floor&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;$unix_time&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#111&#34;&gt;$period&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This line packs the time value into a binary string. It includes an initial 0 and the time divided by the period to ensure the full 8-byte value is obtained.&lt;/p&gt;
&lt;p&gt;With the count/time in hand, the hash is created, and the algorithm generates the OTP. The process involves extracting bytes, forming a hexadecimal code, converting to decimal, and then generating the final password.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;uri-format&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-uri-default-format&#34;&gt;3. URI Default Format&lt;/h2&gt;
&lt;p&gt;If you have used 2FA authentication, you might have scanned a QR code generated by Google Authenticator (or AEGIS, which is better). To generate the QR code, the system needs a base text value containing all the necessary variables. This URI format is defined by Google (did I mention AEGIS is better?):&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;otpauth://{totp|hotp}/{issuer}:{user}?secret={base32}&amp;amp;issuer={issuer}&amp;amp;algorithm={algo}&amp;amp;digits={number}&amp;amp;period|count={time|count}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;totp|hotp: Defines the protocol used&lt;/li&gt;
&lt;li&gt;issuer: Name of the program or company&lt;/li&gt;
&lt;li&gt;user: Username&lt;/li&gt;
&lt;li&gt;base32: The secret (encoded in base32)&lt;/li&gt;
&lt;li&gt;algo: Algorithm used to generate the hash&lt;/li&gt;
&lt;li&gt;number: Number of digits&lt;/li&gt;
&lt;li&gt;period|count: For TOTP, use period; for HOTP, use count&lt;/li&gt;
&lt;li&gt;time|count: Defines the number of seconds (TOTP) or initial count (HOTP)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most parameters are optional; only issuer, user, and secret are essential. If omitted, default values are used (count=0, period=30, algorithm=SHA1):&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;otpauth://{totp|hotp}/{issuer}:{user}?secret={base32}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a id=&#34;encoding-with-base32&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-encoding-with-base32&#34;&gt;4. Encoding with Base32&lt;/h2&gt;
&lt;p&gt;To generate the URI format, the library needs to encode a string in base32. Unfortunately, PHP lacks a built-in library for base32, so I created one. RFC 4648 describes base32 encoding, which uses an alphabet of 32 characters (letters and digits) where each character maps to a number. The base32 encoding process involves mapping the first 5 bits of the string to a character from the alphabet and continuing this process until all bits are processed. Padding with = is sometimes used, but my library does not include it. Decoding reverses the process, converting characters back to bits.&lt;/p&gt;
&lt;p&gt;&lt;a id=&#34;generating-qr-code&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-generating-a-qr-code&#34;&gt;5. Generating a QR Code&lt;/h2&gt;
&lt;p&gt;For QR Code generation, I used a library to convert the URI text into a QR Code image. This library allows customization of QR Code size, error correction level, mode (numeric, alphanumeric, byte, kanji), and output format (image or HTML). The QR Code (Quick Response Code) evolved from barcodes to store more data, using vertical and horizontal encoding. It includes Reed-Solomon error correction to ensure readability even if the code is damaged.&lt;/p&gt;
&lt;p&gt;For more information on QR Codes, visit QR Code official site.&lt;/p&gt;
&lt;h2 id=&#34;end&#34;&gt;END&lt;/h2&gt;
&lt;p&gt;I hope this article provides a good overview of OTP and the technologies used to create these passwords. Feel free to use or improve the library for your projects. The source code is available on my GitHub or GitLab, including a README file explaining how to use the library to generate OTPs, URIs, and QR Codes.&lt;/p&gt;
&lt;p&gt;That’s all, folks!&lt;/p&gt;
</description>
      <author>Victor Briganti</author>
      <guid>https://maverick.canhtran.me/posts/2fa-authentication/</guid>
      <pubDate>Mon, 08 Aug 2022 00:00:00 +0000</pubDate>
    </item>
    
  </channel>
</rss>
